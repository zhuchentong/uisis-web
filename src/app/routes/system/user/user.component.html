<page-header [action]="phActionTpl">
  <ng-template #phActionTpl> </ng-template>
</page-header>
<div nz-row nzGutter="32">
  <nz-col nzXs="8">
    <nz-card [nzExtra]="treeExtraTemplate">
      <ng-template #treeExtraTemplate>
        <i class="px-sm" nz-icon nzType="plus" nzTheme="outline" (click)="onCreate()"></i>
      </ng-template>
      <nz-tree #nzTreeComponent [nzExpandAll]="true" [nzData]="treeData" (nzClick)="onSelectNode($event)"> </nz-tree>
    </nz-card>
  </nz-col>
  <nz-col nzXs="16">
    <nz-card>
      <st
        [pi]="pageService.pageIndex"
        [ps]="pageService.pageSize"
        [total]="pageService.total"
        [page]="pageService.config"
        #st
        [data]="userDataSet"
        [columns]="columns"
        (change)="change($event)"
      >
        <ng-template st-row="state" let-item>
          <a (click)="updateState(item)">{{ item.state | dict }}</a>
        </ng-template>
      </st>
    </nz-card>
  </nz-col>
</div>

<ng-template #addUserComponent>
  <sf #sf layout="horizontal" [button]="null" [schema]="schema" [formData]="formData"></sf>
</ng-template>
